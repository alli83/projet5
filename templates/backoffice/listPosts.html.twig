{% extends "/frontoffice/base.html.twig" %}

{% block title %}List des posts{% endblock %}

{% block content %}
<div class="container">

  <h2 class="text-center">liste des posts</h2>
  <a class="btn btn-success text-white me-2" href="/post/create" role="button">ajouter</a>
  {% if posts %}
  {% for post in posts %}
  <div class="container mt-5">
    <ul class="list-group">
      <li class="list-group-item list-group-item-warning fs-5">
        <span class=" d-inline-block px-md-2 col-sm-9 col-lg-12">{{post.title}}
          <p class="mb-1 text-muted">Crée le {{post.creation_date}} - dernière mise à jour le: {{post.last_update}}</p>
        </span>
        <span class="d-inline-block col-md-7">
          <a class="btn btn-dark text-white me-2" href="/post-{{post.id}}" role="button">voir</a>
          <a class="btn btn-warning text-dark me-2" href="/post-{{post.id}}/edit" role="button">modifier</a>
          <a class="btn btn-secondary text-white" role="button" href="/post-{{post.id}}/delete">supprimer</a>
        </span>
      </li>
    </ul>
  </div>

  {% endfor %}


  <nav class="my-4">
    <ul class="pagination pagination-circle justify-content-center">
      {% if (page > 0) %}
      <li class="page-item">
        <a class="page-link" href="/admin/posts/{{ page-1}}">Précédent</a>
      </li>
      {%endif%}
      {% if posts|length == 3 %}
      <li class="page-item">
        <a class="page-link" href="/admin/posts/{{page+1}}">Suivant</a>
      </li>
      {% endif %}
    </ul>
  </nav>
</div>
{% else %}
<nav class="my-4">
  <ul class="pagination pagination-circle justify-content-center">
    <li class="page-item">
      <a class="page-link" href="/admin/posts">Retour</a>
    </li>
  </ul>
</nav>
{% endif %}
{% endblock %}